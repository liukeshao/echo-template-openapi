---
description:
globs:
alwaysApply: false
---
# OpenAPI æ–‡ä»¶ç»“æ„è¯´æ˜

æœ¬é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–çš„ OpenAPI è§„èŒƒç»„ç»‡æ–¹å¼ï¼Œä¾¿äºç»´æŠ¤å’Œåä½œã€‚

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶ç»“æ„

### ä¸»è§„èŒƒæ–‡ä»¶
- **[openapi.yaml](mdc:openapi/openapi.yaml)** - ä¸»è¦çš„ OpenAPI 3.1.0 è§„èŒƒæ–‡ä»¶
  - å®šä¹‰ API åŸºæœ¬ä¿¡æ¯ã€æœåŠ¡å™¨ã€è®¤è¯æ–¹å¼
  - é€šè¿‡ `$ref` å¼•ç”¨å…¶ä»–æ¨¡å—åŒ–æ–‡ä»¶

### è·¯å¾„å®šä¹‰ (`openapi/paths/`)
æ¯ä¸ª API ç«¯ç‚¹å¯¹åº”ä¸€ä¸ª YAML æ–‡ä»¶ï¼Œå‘½åè§„åˆ™ï¼šå°† URL ä¸­çš„ `/` æ›¿æ¢ä¸º `_`

ç¤ºä¾‹ï¼š
- `/api/v1/auth/login` â†’ `api_v1_auth_login.yaml`
- `/api/v1/users/me` â†’ `api_v1_users_me.yaml`

### ç»„ä»¶å®šä¹‰ (`openapi/components/`)

#### æ•°æ®æ¨¡å‹ (`schemas/`)
- **è®¤è¯ç›¸å…³**:
  - [RegisterInput.yaml](mdc:openapi/components/schemas/RegisterInput.yaml) - æ³¨å†Œè¯·æ±‚
  - [LoginInput.yaml](mdc:openapi/components/schemas/LoginInput.yaml) - ç™»å½•è¯·æ±‚
  - [AuthOutput.yaml](mdc:openapi/components/schemas/AuthOutput.yaml) - è®¤è¯å“åº”æ•°æ®
  
- **ç”¨æˆ·ç›¸å…³**:
  - [UserInfo.yaml](mdc:openapi/components/schemas/UserInfo.yaml) - ç”¨æˆ·ä¿¡æ¯
  - [UpdateUserInput.yaml](mdc:openapi/components/schemas/UpdateUserInput.yaml) - æ›´æ–°ç”¨æˆ·è¯·æ±‚
  
- **é€šç”¨å“åº”**:
  - [Response.yaml](mdc:openapi/components/schemas/Response.yaml) - æ ‡å‡†å“åº”æ ¼å¼
  - [SuccessResponse.yaml](mdc:openapi/components/schemas/SuccessResponse.yaml) - æˆåŠŸå“åº”

#### å“åº”æ¨¡æ¿ (`responses/`)
- [Problem.yaml](mdc:openapi/components/responses/Problem.yaml) - é”™è¯¯å“åº”æ¨¡æ¿

#### HTTP å¤´éƒ¨ (`headers/`)
- [ExpiresAfter.yaml](mdc:openapi/components/headers/ExpiresAfter.yaml) - è¿‡æœŸæ—¶é—´å¤´éƒ¨

## ğŸ”— å¼•ç”¨è§„åˆ™

### åœ¨ä¸»æ–‡ä»¶ä¸­å¼•ç”¨è·¯å¾„
```yaml
paths:
  /api/v1/auth/login:
    $ref: paths/api_v1_auth_login.yaml
```

### åœ¨è·¯å¾„æ–‡ä»¶ä¸­å¼•ç”¨ç»„ä»¶
```yaml
requestBody:
  content:
    application/json:
      schema:
        $ref: ../components/schemas/LoginInput.yaml
```

### åœ¨ç»„ä»¶ä¸­å¼•ç”¨å…¶ä»–ç»„ä»¶
```yaml
properties:
  data:
    $ref: ./UserInfo.yaml
```

## ğŸ“ å‘½åçº¦å®š
- æ–‡ä»¶åä½¿ç”¨ PascalCaseï¼ˆå¦‚ `UserInfo.yaml`ï¼‰
- è·¯å¾„æ–‡ä»¶åä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”ï¼ˆå¦‚ `api_v1_auth_login.yaml`ï¼‰
- Schema åç§°ä¸æ–‡ä»¶åä¿æŒä¸€è‡´
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æè¿°æ€§åç§°
